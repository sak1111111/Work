'# Анализ Legacy PHP-кода

## Выявленные проблемы:

### 1. Смешение логики и представления
- HTML код генерируется внутри PHP скриптов
- Нет разделения на модели, представления и контроллеры
- Код сложно поддерживать и тестировать

### 2. SQL-инъекции
- Прямая подстановка пользовательских данных в SQL запросы
- Использование устаревших mysql_* функций
- Отсутствие prepared statements

### 3. Уязвимости безопасности
- Прямой доступ к $_GET, $_POST без валидации
- Отсутствие экранирования вывода (XSS уязвимости)
- Нет защиты от CSRF атак

## Пример проблемного кода:
```php
<?php
$id = $_GET["id"]; // Уязвимость!
$result = mysql_query("SELECT * FROM users WHERE id = " . $id); // SQL-инъекция!
while($row = mysql_fetch_assoc($result)) {
    echo "Name: " . $row["name"]; // Смешение логики и представления!
}
?>
```' | Out-File "legacy-analysis\legacy_analysis.md" -Encoding utf8